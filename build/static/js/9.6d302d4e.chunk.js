(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[9],{1091:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return $}));var r,a,c,u,s,o,i,f,p,d,l,b,h=n(2),x=n.n(h),m=n(11),j=n(22),O=n(16),v=n(0),w=n(7),g=n(12),y=n(27),k=n(864),I=n(44),S=n(48),C=n(152),D=n(253),E=n(876),H=function(){var e=Object(v.useState)((new Date).getTime()),t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(v.useEffect)((function(){var e=setInterval((function(){r((function(e){return e+1e3}))}),1e3);return function(){return clearInterval(e)}}),[]),n},T=n(878),U=[2,14],A=function(e){var t,n=new Date(e),r=n.getUTCHours(),a=function(e){switch(!0){case e<U[0]||e>=U[1]:return U[0];case e<U[1]:return U[1];default:return 0}}(r);if(2===a&&r>=2&&r<=23){var c=new Date(e),u=c.getUTCDate()+1;c.setUTCDate(u),t=c.setUTCHours(a,0,0,0)}else t=n.setUTCHours(a,0,0,0);return t},B=function(e,t){return"".concat(parseInt(e),"h, ").concat(parseInt(t),"m")},F=function(e){var t=function(e){return 36e5*(parseInt(e/36e5)+1)}(e)-e,n=Object(T.a)(t/1e3).minutes,r=Object(T.a)(t/1e3).hours;return B(r,n)},L=function(e){return 100-(A(e)-e)/432e5*100},M=n(4),N=w.e.div(r||(r=Object(O.a)(["\n  display: block;\n  width: 100%;\n"]))),Q=w.e.div(a||(a=Object(O.a)(["\n  margin-top: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n"]))),R=w.e.div(c||(c=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n"]))),z=Object(w.e)(g.ab)(u||(u=Object(O.a)(["\n  margin-right: 16px;\n"]))),V=function(){var e=Object(I.a)(),t=Object(E.a)(),n=H(),r=F(n),a=function(e){var t=A(e)-e,n=Object(T.a)(t/1e3).minutes,r=Object(T.a)(t/1e3).hours;return B(r,n)}(n);return Object(M.jsxs)(N,{children:[Object(M.jsx)(g.V,{primaryStep:L(n),secondaryStep:1/12*100,showProgressBunny:!0}),Object(M.jsxs)(Q,{children:[Object(M.jsx)(z,{fontSize:"20px",bold:!0,color:"contrast",children:t?r:a}),Object(M.jsx)(g.ab,{fontSize:"20px",bold:!0,color:"invertedContrast",children:e(0,t?"Until ticket sale":"Until lottery draw")})]}),t&&Object(M.jsx)(R,{children:Object(M.jsxs)(g.ab,{color:"invertedContrast",children:[a," ",e(0,"Until lottery draw")]})})]})},J=Object(w.e)(g.F).attrs({as:"h1",size:"xl"})(s||(s=Object(O.a)(["\n  color: ",";\n  margin-bottom: 24px;\n"])),(function(e){return e.theme.colors.secondary})),K=Object(w.e)(g.ab)(o||(o=Object(O.a)(["\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n"]))),P=w.e.div(i||(i=Object(O.a)(["\n  background-image: linear-gradient(180deg, #53dee9 0%, #1fc7d4 100%);\n  padding-bottom: 40px;\n  padding-top: 40px;\n"]))),q=Object(w.e)(D.a)(f||(f=Object(O.a)(["\n  display: flex;\n\n  flex-direction: column;\n\n  "," {\n    flex-direction: row;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),W=w.e.div(p||(p=Object(O.a)(["\n  flex: 1;\n  padding-right: 0;\n\n  "," {\n    padding-right: 24px;\n  }\n\n  "," {\n    padding-right: 32px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.lg})),Y=w.e.div(d||(d=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n  padding-left: 0;\n  margin-top: 16px;\n\n  "," {\n    margin-top: 0;\n    padding-left: 24px;\n  }\n\n  "," {\n    padding-left: 32px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.lg})),G=function(){var e=Object(I.a)();return Object(M.jsx)(P,{children:Object(M.jsxs)(q,{children:[Object(M.jsxs)(W,{children:[Object(M.jsx)(J,{children:e(708,"The CAKE Lottery")}),Object(M.jsx)(K,{children:e(710,"Buy tickets with CAKE")}),Object(M.jsx)(K,{children:e(712,"Win if 2, 3, or 4 of your ticket numbers match!")})]}),Object(M.jsx)(Y,{children:Object(M.jsx)(V,{})})]})})},X=w.e.div(l||(l=Object(O.a)(["\n  background-color: ",";\n  height: 1px;\n  margin: 0 auto 32px;\n  width: 100%;\n"])),(function(e){return e.theme.colors.textSubtle})),Z=w.e.div(b||(b=Object(O.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 32px;\n"]))),$=function(){var e=Object(S.g)(),t=Object(y.c)().account,n=Object(I.a)(),r=Object(v.useState)(0),a=Object(j.a)(r,2),c=a[0],u=a[1],s=Object(v.useState)([]),o=Object(j.a)(s,2),i=(o[0],o[1]),f=Object(v.useState)(!1),p=Object(j.a)(f,2),d=(p[0],p[1]),l=Object(v.useState)(0),b=Object(j.a)(l,2),h=(b[0],b[1]),O=Object(v.useState)(1),w=Object(j.a)(O,2),D=(w[0],w[1]);Object(v.useEffect)((function(){fetch("https://api.pancakeswap.com/api/lotteryHistory").then((function(e){return e.json()})).then((function(e){return i(e)})).catch((function(){d(!0)}))}),[]),Object(v.useEffect)((function(){t&&e&&function(){var t=Object(m.a)(x.a.mark((function t(){var n,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.a)(e);case 2:n=t.sent,r=n-1,h(n),D(r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[t,e]);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(G,{}),Object(M.jsxs)(C.a,{children:[Object(M.jsx)(Z,{children:Object(M.jsxs)(g.l,{activeIndex:c,onItemClick:function(e){u(e)},scale:"sm",variant:"subtle",children:[Object(M.jsx)(g.m,{children:n(716,"Next draw")}),Object(M.jsx)(g.m,{children:n(718,"Past draws")})]})}),Object(M.jsx)(X,{})]})]})}},864:function(e,t,n){"use strict";n.d(t,"i",(function(){return x})),n.d(t,"e",(function(){return m})),n.d(t,"j",(function(){return O})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return w})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return I})),n.d(t,"h",(function(){return S}));var r=n(2),a=n.n(r),c=n(11),u=n(13),s=n.n(u),o=n(847),i=n(70),f=n(260),p=n(262),d=n(261),l=n(154),b=n(24),h=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,u,s,p,d,l,h,x;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(i.b)(),c=new r.eth.Contract(f,Object(b.i)()),u=new o.b(t),s=[],!(n.length>100)){e.next=13;break}p=0,d=a.a.mark((function e(){var t,r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.slice(100*p,100*(p+1)),r=t.map((function(e){return[e[0].toLowerCase(),u.encodeFunctionData(e[1],e[2])]})),e.next=4,c.methods.aggregate(r).call();case 4:o=e.sent,i=o.returnData,p++,s=s.concat(i.map((function(e,n){return u.decodeFunctionResult(t[n][1],e)})));case 8:case"end":return e.stop()}}),e)}));case 7:if(!(p<n.length/100)){e.next=11;break}return e.delegateYield(d(),"t0",9);case 9:e.next=7;break;case 11:e.next=19;break;case 13:return l=n.map((function(e){return[e[0].toLowerCase(),u.encodeFunctionData(e[1],e[2])]})),e.next=16,c.methods.aggregate(l).call();case 16:h=e.sent,x=h.returnData,s=x.map((function(e,t){return u.decodeFunctionResult(n[t][1],e)}));case 19:return e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",t.methods.multiBuy(new s.a(n).times(new s.a(10).pow(18)).toString(),r).send({from:c}).on("transactionHash",(function(e){return e.transactionHash})));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,u){var o,i,f,d,l,b,x,m,O,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=u,e.t0){e.next=5;break}return e.next=4,t.methods.issueIndex().call();case 4:e.t0=e.sent;case 5:return o=e.t0,e.next=8,j(n,r);case 8:return i=e.sent,f=Array.apply(null,{length:i}).map((function(e,t){return[n.options.address,"tokenOfOwnerByIndex",[r,t]]})),e.next=12,h(p,f);case 12:return d=e.sent,l=d.map((function(e){return e.toString()})),b=l.map((function(e){return[n.options.address,"getLotteryIssueIndex",[e]]})),e.next=17,h(p,b);case 17:return x=e.sent,m=[],x.forEach(function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new s.a(t).eq(o)&&m.push(l[n]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),O=m.map((function(e){return[n.options.address,"getLotteryNumbers",[e]]})),e.next=23,h(p,O);case 23:return v=e.sent,e.next=26,k(t);case 26:return e.abrupt("return",v);case 27:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.methods.balanceOf(n).call());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c,u,s,o,i,f,l,b,x,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods.issueIndex().call();case 2:return e.next=4,j(n,r);case 4:return c=e.sent,u=Array.apply(null,{length:c}).map((function(e,t){return[n.options.address,"tokenOfOwnerByIndex",[r,t]]})),e.next=8,h(p,u);case 8:return s=e.sent,o=s.map((function(e){return e.toString()})),i=o.map((function(e){return[n.options.address,"getClaimStatus",[e]]})),e.next=13,h(p,i);case 13:return f=e.sent,l=o.filter((function(e,t){return!f[t][0]})),b=l.map((function(e){return[t.options.address,"getRewardView",[e]]})),e.next=18,h(d,b);case 18:return x=e.sent,m=[],x.forEach((function(e,t){e>0&&m.push(l[t])})),m.length>200&&(m=m.slice(0,200)),e.prev=22,e.abrupt("return",t.methods.multiClaim(m).send({from:r}).on("transactionHash",(function(e){return e.transactionHash})));case 26:return e.prev=26,e.t0=e.catch(22),e.abrupt("return",console.error(e.t0));case 29:case"end":return e.stop()}}),e,null,[[22,26]])})));return function(t,n,r){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var u,o,i,f,l,b,x,m,O,v,w,g,y,I;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.methods.issueIndex().call();case 3:return u=e.sent,e.next=6,j(n,r);case 6:return o=e.sent,i=Array.apply(null,{length:o}).map((function(e,t){return[n.options.address,"tokenOfOwnerByIndex",[r,t]]})),e.next=10,h(p,i);case 10:return f=e.sent,l=f.map((function(e){return e.toString()})),b=l.map((function(e){return[n.options.address,"getLotteryIssueIndex",[e]]})),e.next=15,h(p,b);case 15:return x=e.sent,m=l.map((function(e){return[n.options.address,"getClaimStatus",[e]]})),e.next=19,h(p,m);case 19:return O=e.sent,e.next=22,k(t);case 22:return v=e.sent,w=[],x.forEach(function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(v||t.toString()!==u)&&(O[n][0]||w.push(l[n]));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),g=w.map((function(e){return[t.options.address,"getRewardView",[e]]})),e.next=28,h(d,g);case 28:return y=e.sent,I=y.reduce((function(e,t){return s.a.sum(e,t)}),new s.a(0)),e.abrupt("return",I);case 33:e.prev=33,e.t0=e.catch(0),console.error(e.t0);case 36:return e.abrupt("return",new s.a(0));case 37:case"end":return e.stop()}}),e,null,[[0,33]])})));return function(t,n,r){return e.apply(this,arguments)}}(),w=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods.issueIndex().call();case 2:return n=e.sent,e.abrupt("return",t.methods.getTotalRewards(n).call());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.methods.maxNumber().call());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods.issueIndex().call();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.methods.drawed().call());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods.issueIndex().call();case 2:return r=e.sent,e.next=5,t.methods.drawed().call();case 5:return e.sent||(r-=1),e.prev=7,e.next=10,t.methods.historyAmount(r,5-n).call();case 10:return c=e.sent,e.abrupt("return",c/1e18/l.h);case 14:e.prev=14,e.t0=e.catch(7),console.error(e.t0);case 17:return e.abrupt("return",0);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,u,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods.issueIndex().call();case 2:return n=e.sent,r=[],e.next=6,t.methods.drawed().call();case 6:if((c=e.sent)||0!==parseInt(n,10)){e.next=9;break}return e.abrupt("return",[0,0,0,0]);case 9:if(c){e.next=22;break}u=0;case 11:if(!(u<4)){e.next=20;break}return e.t0=r,e.next=15,t.methods.historyNumbers(n-1,u).call();case 15:e.t1=+e.sent.toString(),e.t0.push.call(e.t0,e.t1);case 17:u++,e.next=11;break;case 20:e.next=32;break;case 22:s=0;case 23:if(!(s<4)){e.next=32;break}return e.t2=r,e.next=27,t.methods.winningNumbers(s).call();case 27:e.t3=+e.sent.toString(),e.t2.push.call(e.t2,e.t3);case 29:s++,e.next=23;break;case 32:return e.abrupt("return",r);case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},876:function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(11),u=n(22),s=n(0),o=n(27),i=n(48),f=n(864);t.a=function(){var e=Object(s.useState)(!0),t=Object(u.a)(e,2),n=t[0],r=t[1],p=Object(o.c)().account,d=Object(i.g)();return Object(s.useEffect)((function(){p&&d&&function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)(d);case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[p,d]),n}},878:function(e,t,n){"use strict";var r=3600,a=86400,c=2629800,u=31557600;t.a=function(e){var t=e,n={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return t>=u&&(n.years=Math.floor(t/u),t-=n.years*u),t>=c&&(n.months=Math.floor(t/c),t-=n.months*c),t>=a&&(n.days=Math.floor(t/a),t-=n.days*a),t>=r&&(n.hours=Math.floor(t/r),t-=n.hours*r),t>=60&&(n.minutes=Math.floor(t/60),t-=60*n.minutes),n.seconds=t,n}}}]);
//# sourceMappingURL=9.6d302d4e.chunk.js.map